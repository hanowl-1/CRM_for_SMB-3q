# PRD (Product Requirements Document)
## 카카오톡/문자 메시지 자동화 플랫폼

### 1. 제품 개요

#### 1.1 제품명
**메시지 자동화 플랫폼** - 카카오톡 알림톡 및 문자 메시지 자동 발송 시스템

#### 1.2 제품 목적
**기존 운영중인 자영업자 구독 서비스(SaaS)의 보조 서비스**로서, 구독중이거나 구독을 취소한 고객사를 대상으로 알림톡 및 문자를 각 상태에 맞춰 자동으로 발송하기 위함

**주요 목적:**
- 기존 구독 서비스의 고객 관리 효율성 향상
- 구독 상태별 맞춤형 자동 메시지 발송
- 기존 운영 데이터베이스와의 실시간 연동
- 고객 이탈 방지 및 재구독 유도

#### 1.3 서비스 특징
- **보조 서비스**: 기존 SaaS 플랫폼에 추가되는 메시지 자동화 기능
- **기존 DB 연동**: 운영중인 SQL 서버의 고객 데이터 실시간 활용
- **변수 기반 개인화**: 기존 DB 필드를 변수로 활용한 개인화 메시지
- **구독 상태 기반 워크플로우**: 구독/취소/일시정지 등 상태별 자동화

#### 1.4 타겟 사용자
- 고객 서비스 담당자
- 마케팅 담당자

### 2. MVP 기능 정의

#### 2.1 핵심 기능 (Must Have)

##### 2.1.1 메시지 작성 및 관리
- **메시지 유형 선택**
  - 카카오 알림톡
  - SMS (단문 메시지)
  - LMS (장문 메시지)
  
- **변수 기반 개인화**
  - DB 필드 연동을 통한 동적 변수 삽입
  - 기본 변수: 고객명, 전화번호, 구매금액 등
  - 커스텀 변수 추가 가능
  - 실시간 메시지 미리보기

- **메시지 템플릿 관리**
  - 자주 사용하는 메시지 템플릿 저장
  - 템플릿 카테고리화 (환영, 알림, 프로모션 등)

##### 2.1.2 자동화 워크플로우
- **트리거 이벤트 설정**
  - 구독 신규 가입
  - 구독 취소
  - 구독 일시정지
  - 구독 재개
  - 결제 실패
  - 구독 만료 예정
  - 기존 SaaS 시스템의 Custom Event

- **대상 고객 선별**
  - 기존 SQL Server의 고객 DB 필드 기반 조건 설정
  - 구독 상태별 세그멘테이션 (활성/취소/일시정지)
  - 구독 기간, 요금제, 사용 패턴 기반 필터링
  - 다중 조건 조합 (AND/OR 로직)
  - 실시간 데이터 동기화 기반 동적 세그멘테이션

- **발송 타이밍 제어**
  - 즉시 발송
  - 지연 발송 (분/시간/일 단위)
  - 특정 시간대 제한 설정

##### 2.1.3 캠페인 관리
- **일회성 캠페인**
  - 즉시 발송 또는 예약 발송
  - 대량 발송 지원
  - 발송 전 미리보기 및 테스트

- **워크플로우 관리**
  - 워크플로우 활성화/비활성화
  - 워크플로우 복제 및 수정
  - 발송 통계 및 성과 추적

##### 2.1.4 대시보드 및 통계
- **실시간 통계**
  - 총 발송 수
  - 성공/실패 비율
  - 활성 워크플로우 수
  - 대상 고객 수

- **성과 분석**
  - 메시지별 발송 성공률
  - 시간대별 발송 통계
  - 워크플로우별 성과 비교

#### 2.2 중요 기능 (Should Have)

##### 2.2.1 고급 세그멘테이션
- **복합 조건 설정**
  - 구매 이력 기반 필터링
  - 행동 패턴 분석
  - 회원 등급별 구분

##### 2.2.2 A/B 테스트
- **메시지 내용 A/B 테스트**
- **발송 시간 최적화 테스트**
- **성과 비교 분석**

##### 2.2.3 API 연동
- **고객 DB 실시간 동기화**
- **외부 시스템 연동**
- **Webhook 지원**

#### 2.3 향후 기능 (Could Have)

##### 2.3.1 고급 분석
- **고객 여정 분석**
- **ROI 측정**
- **예측 분석**

##### 2.3.2 다채널 지원
- **이메일 마케팅**
- **푸시 알림**
- **채팅봇 연동**

### 3. 기술 스택

#### 3.1 현재 기술 스택 (웹 우선 개발)
- **Frontend (Web)**: Next.js 15, React 19, TypeScript
- **UI Components**: Radix UI, Tailwind CSS
- **Form Handling**: React Hook Form, Zod
- **State Management**: React useState/hooks, Context API
- **Charts**: Recharts
- **Icons**: Lucide React
- **Navigation**: Next.js Router

#### 3.2 백엔드 요구사항 (기존 시스템 연동)
- **Primary Database**: 기존 운영중인 SQL Server (연동)
- **Message Platform DB**: PostgreSQL (메시지 관리용)
- **Message Queue**: Redis 또는 RabbitMQ
- **API Gateway**: Express.js 또는 Fastify
- **Database Integration**: 
  - SQL Server 연동 (기존 고객 데이터)
  - PostgreSQL (메시지 플랫폼 전용 데이터)
- **Message Service Integration**: 
  - 카카오 비즈니스 API
  - SMS 서비스 연동 (예: SENS, 알리고 등)

#### 3.3 데이터베이스 연동 전략
- **하이브리드 DB 구조**
  - **기존 SQL Server**: 고객 데이터, 구독 정보 (읽기 전용)
  - **PostgreSQL**: 메시지 플랫폼 전용 데이터
  - **실시간 동기화**: CDC(Change Data Capture) 또는 Event-driven 방식

#### 3.4 개발 플랫폼 전략 (웹 우선)
- **Phase 1: 웹 애플리케이션 (Next.js) - 우선 개발**
  - 기존 SaaS 플랫폼과 통합된 메시지 관리 대시보드
  - 기존 고객 데이터를 활용한 워크플로우 생성
  - 구독 상태 기반 자동 메시지 발송
  - 상세한 통계 및 분석 화면
  - 반응형 디자인으로 모바일 브라우저 지원
  - 기존 SaaS와 seamless한 통합 경험

- **Phase 2: 모바일 애플리케이션 (React Native) - 향후 개발**
  - 웹에서 검증된 핵심 기능 포팅
  - 모바일 특화 기능 (푸시 알림, 터치 최적화)
  - 간편한 모니터링 및 긴급 대응
  - 기존 SaaS 모바일 앱과의 연동

- **코드 재사용 전략**
  - 웹에서 개발된 비즈니스 로직 및 API 호출 함수 재사용
  - 기존 SaaS 시스템과의 공통 인터페이스 활용
  - 검증된 기능을 모바일로 효율적 포팅

### 4. 사용자 여정 (User Journey)

#### 4.1 첫 방문 사용자 (기존 SaaS 관리자)
1. 기존 SaaS 시스템에서 메시지 자동화 기능 활성화
2. 기존 SQL Server와의 연동 설정 및 테스트
3. 고객 데이터 필드 매핑 및 변수 설정
4. 첫 번째 메시지 템플릿 작성 (기존 고객 데이터 활용)
5. 구독 상태 기반 워크플로우 생성
6. 테스트 발송 (실제 고객 데이터로)
7. 실제 자동화 캠페인 활성화

#### 4.2 기존 사용자 (일상적 운영)
1. 대시보드에서 구독 고객 현황 및 메시지 성과 확인
2. 기존 워크플로우 성과 분석 및 최적화
3. 신규 구독/취소 고객 대상 워크플로우 조정
4. 계절성 캠페인 또는 특별 이벤트 메시지 생성
5. 기존 SaaS 시스템과의 데이터 동기화 상태 모니터링

### 5. 주요 화면 구성

#### 5.1 대시보드
- 통계 카드 (발송 수, 성공률, 활성 워크플로우, 대상 고객)
- 워크플로우 목록 및 상태 관리
- 최근 캠페인 성과 요약

#### 5.2 워크플로우 생성/편집
- 7단계 설정 프로세스:
  1. 메시지 작성 (변수 삽입 지원)
  2. 대상 고객 선별
  3. 시작 이벤트 설정
  4. 대기 시간 설정
  5. 추가 필터 조건
  6. 운영 설정 (시간 제한, 발송 제한)
  7. 목표 설정

#### 5.3 캠페인 관리
- 일회성 캠페인 생성
- 즉시/예약 발송 설정
- 대상 고객 미리보기
- 메시지 테스트 발송

### 6. 성공 지표 (KPI)

#### 6.1 사용자 관련
- 월간 활성 사용자 수 (MAU)
- 사용자 유지율
- 평균 세션 시간

#### 6.2 플랫폼 성능
- 메시지 발송 성공률 (목표: 98% 이상)
- 시스템 응답 시간 (목표: 2초 이하)
- 서버 가동률 (목표: 99.9% 이상)

#### 6.3 비즈니스 성과
- 사용자당 평균 메시지 발송량
- 워크플로우 활용률
- 고객 만족도 (NPS 점수)

### 7. 릴리스 계획 (웹 우선 개발)

#### 7.1 Phase 1: 웹 애플리케이션 MVP (3개월)
- **Month 1-2: 핵심 기능 개발**
  - 사용자 인증 및 권한 관리
  - 메시지 작성 및 템플릿 관리
  - 기본 워크플로우 생성 기능
  - 카카오 알림톡 및 SMS 연동
  - 기본 대시보드 및 통계

- **Month 3: 고급 기능 및 최적화**
  - 고급 워크플로우 설정 (7단계 프로세스)
  - 대상 고객 세그멘테이션
  - 발송 스케줄링 및 타이밍 제어
  - 성과 분석 및 리포팅
  - 반응형 디자인 완성

#### 7.2 Phase 2: 웹 플랫폼 안정화 및 확장 (1-2개월)
- **웹 플랫폼 최적화**
  - 성능 최적화 및 버그 수정
  - 사용자 피드백 반영
  - 고급 세그멘테이션 기능
  - A/B 테스트 지원
  - API 연동 기능 확장

#### 7.3 Phase 3: 모바일 애플리케이션 개발 (2-3개월)
- **React Native 앱 개발**
  - 웹에서 검증된 핵심 기능 포팅
  - 모바일 특화 UI/UX 개발
  - 푸시 알림 기능 구현
  - 오프라인 지원 및 동기화
  - 앱 스토어 배포 준비

#### 7.4 Phase 4: 통합 및 고도화 (1개월)
- **멀티 플랫폼 통합**
  - 웹-모바일 데이터 동기화 완성
  - 고급 분석 및 리포팅 확장
  - 다채널 지원 추가
  - 성능 모니터링 및 최적화

### 8. 개발 우선순위 (웹 중심)

#### 8.1 웹 개발 1순위 (MVP 필수 기능)
- 사용자 인증 및 대시보드
- 메시지 작성 및 발송 기능
- 기본 워크플로우 관리
- 카카오/SMS API 연동

#### 8.2 웹 개발 2순위 (핵심 기능 완성)
- 고급 워크플로우 설정
- 고객 세그멘테이션
- 상세 통계 및 분석
- 반응형 디자인 완성

#### 8.3 웹 개발 3순위 (최적화 및 확장)
- 성능 최적화
- A/B 테스트 기능
- API 확장 및 연동
- 사용자 경험 개선

### 9. 제약사항 및 고려사항

#### 9.1 기술적 제약사항
- 카카오 비즈니스 API 사용 제한 및 비용
- SMS 발송 비용 및 스팸 규제
- 대용량 메시지 발송 시 성능 이슈

#### 9.2 법적 고려사항
- 개인정보보호법 준수
- 스팸 방지법 준수
- 카카오톡 발송 정책 준수

#### 9.3 비즈니스 고려사항
- 메시지 발송 비용 최적화
- 사용자 친화적 가격 정책
- 고객 지원 체계 구축

### 10. 위험 요소 및 대응 방안

#### 10.1 기술적 위험
- **위험**: 대용량 발송 시 시스템 부하
- **대응**: 메시지 큐 시스템 도입, 단계적 발송

#### 10.2 외부 의존성 위험
- **위험**: 카카오/SMS 서비스 정책 변경
- **대응**: 다중 서비스 연동, 대체 서비스 준비

#### 10.3 사용자 경험 위험
- **위험**: 복잡한 설정으로 인한 사용성 저하
- **대응**: 단계별 가이드, 템플릿 제공, 직관적 UI/UX

### 11. 결론

본 PRD는 카카오톡과 문자 메시지 자동화 플랫폼의 MVP 개발을 위한 기본 방향을 제시합니다. 사용자 친화적인 인터페이스와 강력한 자동화 기능을 통해 소상공인과 중소기업의 고객 소통 효율성을 극대화하는 것이 주요 목표입니다. 

단계적 개발을 통해 핵심 기능부터 구현하고, 사용자 피드백을 바탕으로 지속적으로 개선해 나갈 계획입니다. 